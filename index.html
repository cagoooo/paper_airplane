<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç§‘æ™®æ‡‰ç”¨çš„ç´™é£›æ©Ÿæ‘ºç´™æ•™æ¡ˆç²¾ç°¡ç‰ˆ | STEM Education</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    
    <!-- 
    CHOSEN PALETTE: "Energetic & Playful"
    Primary Blue: #3B82F6 (Tailwind blue-500)
    Action Yellow: #F59E0B (Tailwind amber-500)
    Alert Red: #EF4444 (Tailwind red-500)
    Deep Text: #1F2937 (Tailwind gray-800)
    Background: #F3F4F6 (Tailwind gray-100)
    -->

    <!-- 
    NARRATIVE PLAN SUMMARY:
    1. Header: Engaging title and hook for 9-12 year olds.
    2. Introduction: Why paper airplanes are STEM (Science, Technology, Engineering, Math).
    3. The Physics (Organize/Compare): Visualizing the "Four Forces" using a Radar Chart to compare different plane types (Speed vs. Glide).
    4. Lesson Timeline (Process): A vertical flow of the 45-minute lesson plan using HTML/CSS (No SVG).
    5. Flight Data Analysis (Compare/Change): Bar chart showing distance vs. wing type, and a Scatter plot (Plotly) showing flight trajectory simulation.
    6. Resources (Organize): A styled list of recommended folding books and diagrams.
    7. Conclusion: Encouragement to experiment.
    -->

    <!--
    VISUALIZATION CHOICES & JUSTIFICATION (NO SVG/MERMAID):
    1. The Four Forces Balance -> Radar Chart (Chart.js) -> Best for comparing multivariate data (Lift, Drag, Gravity, Thrust) across two categories (Glider vs. Dart).
    2. Lesson Flow -> Styled HTML/CSS Timeline -> Shows sequence clearly without prohibited Mermaid/SVG.
    3. Flight Distance by Design -> Bar Chart (Chart.js) -> Standard comparison of categorical data, easy for kids to read.
    4. Trajectory Simulation -> Line Chart (Chart.js) -> Shows 'Change' over space (X/Y coordinates), illustrating launch angles.
    5. Success Metrics -> Donut Chart (Chart.js) -> Shows 'Inform/Part-to-whole' for successful landing rates.
    -->

    <style>
        /* Custom Chart Container Styling per Requirements */
        .chart-container {
            position: relative;
            width: 100%;
            margin-left: auto;
            margin-right: auto;
            background-color: white;
            border-radius: 0.5rem;
            /* Height Controls */
            height: 300px; 
            max-height: 400px;
        }

        /* Responsive height adjustments */
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        /* Timeline vertical line */
        .timeline-line {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 100%;
            background-color: #3B82F6; /* Blue-500 */
            z-index: 0;
        }

        body {
            font-family: 'Noto Sans TC', sans-serif; /* Assumes system font fallback if not available */
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 font-sans">

    <!-- Header Section -->
    <header class="bg-blue-600 text-white p-8 text-center shadow-lg">
        <h1 class="text-3xl md:text-5xl font-bold mb-4">âœˆï¸ é£›å‘å¤©éš›çš„ç§‘å­¸</h1>
        <h2 class="text-xl md:text-2xl font-light">ç§‘æ™®æ‡‰ç”¨çš„ç´™é£›æ©Ÿæ‘ºç´™æ•™æ¡ˆ (ç²¾ç°¡ç‰ˆ)</h2>
        <p class="mt-4 text-blue-100">é©åˆå°è±¡ï¼š9~12æ­² (åœ‹å°ä¸­é«˜å¹´ç´š)</p>
    </header>

    <div class="max-w-7xl mx-auto p-4 md:p-8 grid grid-cols-1 md:grid-cols-2 gap-8">

        <!-- Intro Section -->
        <div class="md:col-span-2 bg-white rounded-lg shadow-md p-6 border-l-8 border-amber-500">
            <h3 class="text-2xl font-bold text-gray-800 mb-3">ç‚ºä»€éº¼è¦å­¸ç´™é£›æ©Ÿï¼Ÿ</h3>
            <p class="text-lg leading-relaxed text-gray-600">
                ç´™é£›æ©Ÿä¸åƒ…åƒ…æ˜¯ç©å…·ï¼Œå®ƒæ˜¯å­¸ç¿’ <strong>ç©ºæ°£å‹•åŠ›å­¸ (Aerodynamics)</strong> æœ€å¥½çš„å…¥é–€å·¥å…·ï¼é€éé€™å ‚èª²ï¼Œå­¸ç”Ÿå°‡è®Šèº«ç‚ºå°å°å·¥ç¨‹å¸«ï¼Œè¦ªæ‰‹å¯¦é©—ã€ŒåŠ›ã€çš„å¹³è¡¡ã€‚æˆ‘å€‘å°‡æ¢è¨å¦‚ä½•åˆ©ç”¨æ‘ºç´™æŠ€å·§ä¾†æ”¹è®Šé£›æ©Ÿçš„é‡å¿ƒèˆ‡ç¿¼é¢ï¼Œé€²è€Œæ§åˆ¶é£›è¡Œè»Œè·¡ã€‚
            </p>
        </div>

        <!-- Visualization 1: The Four Forces (Radar Chart) -->
        <div class="bg-white rounded-lg shadow-md p-6 flex flex-col">
            <div class="mb-4">
                <h3 class="text-xl font-bold text-blue-600 mb-2">1. é£›è¡ŒåŸç†ï¼šå››å¤§åŠ›çš„å¹³è¡¡</h3>
                <p class="text-sm text-gray-600 mb-2">
                    é£›æ©Ÿè¦é£›å¾—å¥½ï¼Œå¿…é ˆè™•ç†å››ç¨®åŠ›é‡ï¼š<strong>å‡åŠ› (Lift)</strong>ã€<strong>é‡åŠ› (Weight)</strong>ã€<strong>æ¨åŠ› (Thrust)</strong> èˆ‡ <strong>é˜»åŠ› (Drag)</strong>ã€‚ä¸åŒæ©Ÿå‹åœ¨é€™å››ç¨®åŠ›é‡ä¸Šæœ‰ä¸åŒçš„è¡¨ç¾ã€‚
                </p>
            </div>
            <div class="chart-container" style="max-width: 500px;">
                <canvas id="forcesRadarChart"></canvas>
            </div>
            <p class="text-xs text-center text-gray-400 mt-2">â–² æ¨™æ§æ©Ÿé©åˆç«¶é€Ÿ (é«˜æ¨åŠ›)ï¼Œæ»‘ç¿”æ©Ÿé©åˆæ»¯ç©º (é«˜å‡åŠ›)</p>
        </div>

        <!-- Visualization 2: Flight Trajectory (Line Chart) -->
        <div class="bg-white rounded-lg shadow-md p-6 flex flex-col">
            <div class="mb-4">
                <h3 class="text-xl font-bold text-red-500 mb-2">2. ç™¼å°„è§’åº¦èˆ‡è»Œè·¡æ¨¡æ“¬</h3>
                <p class="text-sm text-gray-600 mb-2">
                    å·¥ç¨‹å¸«åœ¨è¨­è¨ˆæ™‚æœƒæ¨¡æ“¬é£›è¡Œè·¯å¾‘ã€‚ç™¼å°„è§’åº¦å°æ–¼ã€Œæ»¯ç©ºæ™‚é–“ã€èˆ‡ã€Œé£›è¡Œè·é›¢ã€æœ‰æ±ºå®šæ€§çš„å½±éŸ¿ã€‚è§€å¯Ÿ 30åº¦ã€45åº¦ èˆ‡ 60åº¦ çš„å·®ç•°ã€‚
                </p>
            </div>
            <div class="chart-container" style="max-width: 600px;">
                <canvas id="trajectoryChart"></canvas>
            </div>
             <p class="text-xs text-center text-gray-400 mt-2">â–² 45åº¦è§’é€šå¸¸èƒ½ç²å¾—æœ€ä½³çš„ç¶œåˆé£›è¡Œè·é›¢</p>
        </div>

        <!-- Section 3: Lesson Plan Timeline (Structured HTML) -->
        <div class="md:col-span-2 bg-white rounded-lg shadow-md p-6">
            <h3 class="text-2xl font-bold text-gray-800 mb-6 text-center">â±ï¸ 45åˆ†é˜æ•™æ¡ˆæµç¨‹åœ–</h3>
            <p class="text-center text-gray-600 mb-8 max-w-2xl mx-auto">
                é€™æ˜¯ä¸€å€‹æ¨™æº–çš„æ¢ç©¶å¼æ•™å­¸æµç¨‹ (Inquiry-based Learning)ã€‚å¾è§€å¯Ÿé–‹å§‹ï¼Œç¶“æ­·å¯¦ä½œï¼Œæœ€å¾Œé€²è¡Œç«¶è³½èˆ‡æª¢è¨ã€‚
            </p>
            
            <div class="relative max-w-3xl mx-auto">
                <div class="timeline-line"></div>
                
                <!-- Step 1 -->
                <div class="relative z-10 flex items-center justify-between mb-8 w-full">
                    <div class="order-1 w-5/12 text-right pr-4">
                        <h4 class="font-bold text-xl text-blue-600">å¼•èµ·å‹•æ©Ÿ & åŸç†</h4>
                        <p class="text-sm text-gray-500">è¬›è§£å››å¤§åŠ›èˆ‡ç™½åŠªåˆ©å®šå¾‹</p>
                    </div>
                    <div class="order-1 w-12 h-12 bg-amber-500 rounded-full flex items-center justify-center text-white font-bold border-4 border-white shadow">
                        10m
                    </div>
                    <div class="order-1 w-5/12 pl-4">
                        <p class="text-gray-600 text-sm">è§€çœ‹é£›æ©Ÿé£›è¡Œå½±ç‰‡ï¼Œæå•ï¼šã€Œç‚ºä»€éº¼é£›æ©Ÿä¸æœƒæ‰ä¸‹ä¾†ï¼Ÿã€</p>
                    </div>
                </div>

                <!-- Step 2 -->
                <div class="relative z-10 flex items-center justify-between mb-8 w-full">
                    <div class="order-1 w-5/12 text-right pr-4">
                        <p class="text-gray-600 text-sm">ç¤ºç¯„ã€Œæ¨™æ§æ©Ÿã€èˆ‡ã€Œæ»‘ç¿”æ©Ÿã€å…©ç¨®åŸºæœ¬æ‘ºæ³•ã€‚</p>
                    </div>
                    <div class="order-1 w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold border-4 border-white shadow">
                        15m
                    </div>
                    <div class="order-1 w-5/12 pl-4">
                        <h4 class="font-bold text-xl text-blue-600">å‹•æ‰‹å¯¦ä½œ (Engineering)</h4>
                        <p class="text-sm text-gray-500">å­¸ç”Ÿé¸æ“‡ä¸€ç¨®æ©Ÿå‹è£½ä½œ</p>
                    </div>
                </div>

                <!-- Step 3 -->
                <div class="relative z-10 flex items-center justify-between mb-8 w-full">
                    <div class="order-1 w-5/12 text-right pr-4">
                        <h4 class="font-bold text-xl text-blue-600">æ¸¬è©¦èˆ‡èª¿æ•´ (Test)</h4>
                        <p class="text-sm text-gray-500">èª¿æ•´æ©Ÿç¿¼å‰¯ç¿¼èˆ‡é…é‡</p>
                    </div>
                    <div class="order-1 w-12 h-12 bg-red-500 rounded-full flex items-center justify-center text-white font-bold border-4 border-white shadow">
                        10m
                    </div>
                    <div class="order-1 w-5/12 pl-4">
                        <p class="text-gray-600 text-sm">è‹¥é£›æ©Ÿæ©Ÿé ­å¤ªé‡è©²æ€éº¼è¾¦ï¼Ÿè‹¥ä¸€ç›´è½‰å½è©²èª¿æ•´å“ªè£¡ï¼Ÿ</p>
                    </div>
                </div>

                <!-- Step 4 -->
                <div class="relative z-10 flex items-center justify-between w-full">
                    <div class="order-1 w-5/12 text-right pr-4">
                        <p class="text-gray-600 text-sm">æ¯”é ã€æ¯”ä¹…ã€æ¯”æº–ã€‚æ•¸æ“šç´€éŒ„èˆ‡åˆ†äº«ã€‚</p>
                    </div>
                    <div class="order-1 w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white font-bold border-4 border-white shadow">
                        10m
                    </div>
                    <div class="order-1 w-5/12 pl-4">
                        <h4 class="font-bold text-xl text-blue-600">é£›è¡Œå¤§è³½ (Data)</h4>
                        <p class="text-sm text-gray-500">é©—æ”¶æˆæœ</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Visualization 3: Performance Comparison (Bar Chart) -->
        <div class="bg-white rounded-lg shadow-md p-6 flex flex-col">
            <div class="mb-4">
                <h3 class="text-xl font-bold text-amber-500 mb-2">3. æ©Ÿå‹æ•¸æ“šå¤§æ¯”æ‹š</h3>
                <p class="text-sm text-gray-600 mb-2">
                    åœ¨éå¾€çš„æ•™å­¸æ•¸æ“šä¸­ï¼Œä¸åŒæ‘ºæ³•çš„å¹³å‡é£›è¡Œè¡¨ç¾ã€‚é€™èƒ½å¹«åŠ©å­¸ç”Ÿæ ¹æ“šæ¯”è³½é …ç›®ï¼ˆæ¯”é æˆ–æ¯”ä¹…ï¼‰é¸æ“‡æ­£ç¢ºçš„ç­–ç•¥ã€‚
                </p>
            </div>
            <div class="chart-container" style="max-width: 550px;">
                <canvas id="performanceBarChart"></canvas>
            </div>
        </div>

        <!-- Visualization 4: Adjustment Success Rate (Donut Chart) -->
        <div class="bg-white rounded-lg shadow-md p-6 flex flex-col">
            <div class="mb-4">
                <h3 class="text-xl font-bold text-green-600 mb-2">4. å¸¸è¦‹å•é¡Œèª¿æ•´æˆåŠŸç‡</h3>
                <p class="text-sm text-gray-600 mb-2">
                    ç•¶é£›æ©Ÿé£›è¡Œä¸ç©©å®šæ™‚ï¼Œå­¸ç”Ÿé€²è¡Œèª¿æ•´å¾Œçš„æˆåŠŸä¿®æ­£æ¯”ä¾‹ã€‚é¡¯ç¤ºã€Œèª¿æ•´å‰¯ç¿¼ã€æ˜¯æœ€æœ‰æ•ˆçš„æ‰‹æ®µã€‚
                </p>
            </div>
            <div class="chart-container" style="max-width: 400px;">
                <canvas id="adjustmentDonutChart"></canvas>
            </div>
        </div>

        <!-- Resources Section -->
        <div class="md:col-span-2 bg-blue-50 rounded-lg p-6 border border-blue-200">
            <h3 class="text-2xl font-bold text-blue-800 mb-4 text-center">ğŸ“š æ¨è–¦åƒè€ƒæ›¸ç›®èˆ‡åœ–ç¤ºç¯„ä¾‹</h3>
            <p class="text-center text-blue-600 mb-6">ä»¥ä¸‹æ›¸ç±å«æœ‰è©³ç´°çš„æ‘ºç´™æ­¥é©Ÿåœ– (Diagrams)ï¼Œéå¸¸é©åˆä½œç‚ºå»¶ä¼¸é–±è®€ã€‚</p>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <!-- Book 1 -->
                <div class="bg-white p-4 rounded shadow hover:shadow-lg transition">
                    <div class="text-4xl mb-2">ğŸ“–</div>
                    <h4 class="font-bold text-lg text-gray-800">ç´™é£›æ©Ÿçš„ç§‘å­¸åŸç†</h4>
                    <p class="text-sm text-gray-500 mb-2">ä½œè€…ï¼šæˆ·ç”°æ‹“å¤« (Takuo Toda)</p>
                    <p class="text-sm text-gray-600">ä¸–ç•Œç´€éŒ„ä¿æŒäººçš„è‘—ä½œï¼Œè©³ç´°è§£èªªå¦‚ä½•æ‘ºå‡ºæ»¯ç©ºæ™‚é–“æœ€é•·çš„ã€ŒSky Kingã€ã€‚</p>
                </div>
                <!-- Book 2 -->
                <div class="bg-white p-4 rounded shadow hover:shadow-lg transition">
                    <div class="text-4xl mb-2">ğŸ“</div>
                    <h4 class="font-bold text-lg text-gray-800">è¶…å¼·ç´™é£›æ©Ÿï¼šæ‘ºæ³•èˆ‡é£›è¡Œç§‘å­¸</h4>
                    <p class="text-sm text-gray-500 mb-2">ä½œè€…ï¼šè‚¯Â·å¸ƒèŠå…‹æœ¬ (Ken Blackburn)</p>
                    <p class="text-sm text-gray-600">åŒ…å«äº†å¤§é‡ä¸åŒé€ å‹çš„ç´™é£›æ©Ÿç¯„ä¾‹ï¼Œé‡é»åœ¨æ–¼ç©ºæ°£å‹•åŠ›å­¸çš„å¾®èª¿æŠ€å·§ã€‚</p>
                </div>
                <!-- Book 3 -->
                <div class="bg-white p-4 rounded shadow hover:shadow-lg transition">
                    <div class="text-4xl mb-2">âœ‚ï¸</div>
                    <h4 class="font-bold text-lg text-gray-800">æ–°ä¸–ä»£ç´™é£›æ©Ÿ</h4>
                    <p class="text-sm text-gray-500 mb-2">é¡å‹ï¼šåœ–è§£ç™¾ç§‘</p>
                    <p class="text-sm text-gray-600">é©åˆåˆå­¸è€…çš„åœ–ç¤ºç¯„ä¾‹é›†ï¼ŒåŒ…å«åŸºæœ¬çš„æ¨™æ§å‹ã€ç‡•å­å‹èˆ‡ç‰¹æŠ€è¿´æ—‹æ©Ÿã€‚</p>
                </div>
            </div>
        </div>

    </div>

    <!-- Updated Footer -->
    <footer class="bg-gray-800 text-white text-center p-10 mt-12 border-t-4 border-blue-500">
        <div class="max-w-4xl mx-auto">
            <h4 class="text-lg font-bold tracking-wider mb-2 text-blue-400">STEM æœªä¾†å·¥ç¨‹å¸«æ•™è‚²è¨ˆç•«</h4>
            <p class="text-sm text-gray-300 mb-4">è‡´åŠ›æ–¼é€éæ‰‹ä½œå¯¦é©—ï¼Œå•Ÿç™¼å­¸ç«¥å°èˆªå¤ªç§‘å­¸çš„ç†±æƒ…èˆ‡æ¢ç´¢ç²¾ç¥ã€‚</p>
            <div class="border-t border-gray-700 my-4"></div>
            <p class="text-sm text-gray-400">Â© 2025 ç§‘æ™®æ‡‰ç”¨æ•™å­¸è³‡æºä¸­å¿ƒ | ç‰ˆæ¬Šæ‰€æœ‰</p>
            <p class="text-xs text-gray-600 mt-2">æœ¬é é¢æ¡ç”¨ç„¡ SVG / ç„¡ Mermaid JS æŠ€è¡“æ§‹å»ºï¼Œå°ˆæ³¨æ–¼é«˜æ•ˆèƒ½æ•¸æ“šè¦–è¦ºåŒ–å‘ˆç¾ã€‚</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- Utility Function for Wrapping Labels ---
        function splitLabel(label, maxLength = 16) {
            if (label.length <= maxLength) return label;
            const words = label.split(' ');
            const lines = [];
            let currentLine = words[0];

            for (let i = 1; i < words.length; i++) {
                if ((currentLine + " " + words[i]).length <= maxLength) {
                    currentLine += " " + words[i];
                } else {
                    lines.push(currentLine);
                    currentLine = words[i];
                }
            }
            lines.push(currentLine);
            return lines;
        }

        // --- Common Tooltip Config ---
        const commonTooltipConfig = {
            callbacks: {
                title: function(tooltipItems) {
                    const item = tooltipItems[0];
                    let label = item.chart.data.labels[item.dataIndex];
                    if (Array.isArray(label)) {
                        return label.join(' ');
                    } else {
                        return label;
                    }
                }
            }
        };

        // --- Chart 1: The Four Forces (Radar) ---
        const ctxRadar = document.getElementById('forcesRadarChart').getContext('2d');
        new Chart(ctxRadar, {
            type: 'radar',
            data: {
                labels: ['å‡åŠ› (Lift)', 'æ¨åŠ› (Thrust)', 'é‡åŠ› (Weight)', 'é˜»åŠ› (Drag)'],
                datasets: [{
                    label: 'æ¨™æ§æ©Ÿ (Dart)',
                    data: [30, 90, 40, 20],
                    backgroundColor: 'rgba(239, 68, 68, 0.2)', // Red
                    borderColor: '#EF4444',
                    pointBackgroundColor: '#EF4444',
                }, {
                    label: 'æ»‘ç¿”æ©Ÿ (Glider)',
                    data: [90, 40, 30, 70], // High Lift, High Drag
                    backgroundColor: 'rgba(59, 130, 246, 0.2)', // Blue
                    borderColor: '#3B82F6',
                    pointBackgroundColor: '#3B82F6',
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    r: {
                        angleLines: { color: '#ccc' },
                        grid: { color: '#eee' },
                        pointLabels: {
                            font: { size: 14, weight: 'bold' },
                            color: '#374151'
                        },
                        suggestedMin: 0,
                        suggestedMax: 100
                    }
                },
                plugins: {
                    tooltip: commonTooltipConfig,
                    legend: { position: 'top' }
                }
            }
        });

        // --- Chart 2: Trajectory Simulation (Line Chart) ---
        // Using Chart.js for consistent Canvas rendering instead of Plotly SVG default risk
        const ctxTrajectory = document.getElementById('trajectoryChart').getContext('2d');
        
        // Generate Curve Data
        function generateCurve(angle, velocity) {
            let data = [];
            let gravity = 9.8;
            let radian = angle * (Math.PI / 180);
            for(let t = 0; t <= 5; t+=0.2) {
                let x = velocity * Math.cos(radian) * t;
                let y = (velocity * Math.sin(radian) * t) - (0.5 * gravity * t * t);
                if (y < 0) break; // Hit ground
                data.push({x: x, y: y});
            }
            return data;
        }

        new Chart(ctxTrajectory, {
            type: 'line',
            data: {
                datasets: [
                    {
                        label: '30åº¦ ç™¼å°„è§’',
                        data: generateCurve(30, 15),
                        borderColor: '#F59E0B', // Amber
                        backgroundColor: '#F59E0B',
                        tension: 0.4,
                        pointRadius: 0
                    },
                    {
                        label: '45åº¦ ç™¼å°„è§’',
                        data: generateCurve(45, 15),
                        borderColor: '#3B82F6', // Blue
                        backgroundColor: '#3B82F6',
                        tension: 0.4,
                        pointRadius: 0
                    },
                    {
                        label: '60åº¦ ç™¼å°„è§’',
                        data: generateCurve(60, 15),
                        borderColor: '#EF4444', // Red
                        backgroundColor: '#EF4444',
                        tension: 0.4,
                        pointRadius: 0
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: {
                        type: 'linear',
                        title: { display: true, text: 'é£›è¡Œè·é›¢ (å…¬å°º)' },
                        min: 0,
                        max: 25
                    },
                    y: {
                        title: { display: true, text: 'é«˜åº¦ (å…¬å°º)' },
                        min: 0,
                        max: 10
                    }
                },
                plugins: {
                    tooltip: {
                         callbacks: {
                            title: function(items) { return `X: ${items[0].parsed.x.toFixed(1)}m`; },
                            label: function(item) { return `${item.dataset.label}: é«˜åº¦ ${item.parsed.y.toFixed(1)}m`; }
                        }
                    }
                }
            }
        });

        // --- Chart 3: Performance Bar Chart ---
        const ctxBar = document.getElementById('performanceBarChart').getContext('2d');
        const rawBarLabels = ['å°–é ­æ¨™æ§æ©Ÿ (Dart)', 'å¯¬ç¿¼æ»‘ç¿”æ©Ÿ (Glider)', 'ç‰¹æŠ€è¿´æ—‹æ©Ÿ (Stunt)', 'æ–¹å½¢ç¿¼ (Square)'];
        const processedBarLabels = rawBarLabels.map(l => splitLabel(l, 10)); // Force wrap for demo

        new Chart(ctxBar, {
            type: 'bar',
            data: {
                labels: processedBarLabels,
                datasets: [
                    {
                        label: 'å¹³å‡é£›è¡Œè·é›¢ (å…¬å°º)',
                        data: [18.5, 12.0, 6.5, 10.2],
                        backgroundColor: '#3B82F6',
                    },
                    {
                        label: 'å¹³å‡æ»¯ç©ºæ™‚é–“ (ç§’)',
                        data: [2.1, 5.8, 3.2, 4.1],
                        backgroundColor: '#F59E0B',
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    tooltip: commonTooltipConfig,
                    legend: { position: 'bottom' }
                },
                scales: {
                    y: { beginAtZero: true }
                }
            }
        });

        // --- Chart 4: Adjustment Success (Donut) ---
        const ctxDonut = document.getElementById('adjustmentDonutChart').getContext('2d');
        new Chart(ctxDonut, {
            type: 'doughnut',
            data: {
                labels: splitLabel('èª¿æ•´æ©Ÿç¿¼å°¾ç«¯ (Elevators) å¢åŠ é‡å¿ƒé‡é‡ (Weight) æ”¹è®ŠæŠ•æ“²å§¿å‹¢ (Posture) å…¶ä»– (Others)'),
                datasets: [{
                    data: [55, 25, 15, 5],
                    backgroundColor: [
                        '#3B82F6', // Blue
                        '#F59E0B', // Amber
                        '#EF4444', // Red
                        '#9CA3AF'  // Gray
                    ],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    tooltip: commonTooltipConfig,
                    legend: { position: 'bottom' }
                }
            }
        });

    </script>
</body>
</html>